# -----------------------------------------------------------------------------
# SQM Middleware MCP host runtime configuration template
#
# Copy to .env (or set in your host process environment).
# -----------------------------------------------------------------------------

# --- Schema source ------------------------------------------------------------
# Supported values: manual | json | jdbc
# manual = load default schema from JSON file/resource (not hardcoded model)
# SQM_MIDDLEWARE_SCHEMA_SOURCE=json

# Optional explicit default JSON path used when source=manual
# SQM_MIDDLEWARE_SCHEMA_DEFAULT_JSON_PATH=./schema/default-schema.json

# JSON schema source
# SQM_MIDDLEWARE_SCHEMA_JSON_PATH=./schema.json

# JDBC schema source
# SQM_MIDDLEWARE_JDBC_URL=jdbc:postgresql://localhost:5432/mydb
# SQM_MIDDLEWARE_JDBC_USER=postgres
# SQM_MIDDLEWARE_JDBC_PASSWORD=postgres
# SQM_MIDDLEWARE_JDBC_DRIVER=org.postgresql.Driver
# SQM_MIDDLEWARE_JDBC_SCHEMA_PATTERN=public

# --- Rewrite pipeline ---------------------------------------------------------
# SQM_MIDDLEWARE_REWRITE_ENABLED=true
# SQM_MIDDLEWARE_REWRITE_RULES=LIMIT_INJECTION,CANONICALIZATION

# Optional rewrite settings
# SQM_MIDDLEWARE_REWRITE_DEFAULT_LIMIT_INJECTION_VALUE=1000
# SQM_MIDDLEWARE_REWRITE_MAX_ALLOWED_LIMIT=5000
# SQM_MIDDLEWARE_REWRITE_LIMIT_EXCESS_MODE=DENY
# SQM_MIDDLEWARE_REWRITE_QUALIFICATION_DEFAULT_SCHEMA=public
# SQM_MIDDLEWARE_REWRITE_QUALIFICATION_FAILURE_MODE=DENY
# SQM_MIDDLEWARE_REWRITE_IDENTIFIER_NORMALIZATION_CASE_MODE=LOWER

# --- Validation limits --------------------------------------------------------
# Optional inline validation settings payload (choose one):
# SQM_VALIDATION_SETTINGS_JSON={"tenantRequirementMode":"REQUIRED","accessPolicy":{"tenants":[{"name":"tenant-a","deniedTables":["payments"]}]}}
# SQM_VALIDATION_SETTINGS_YAML=<inline-yaml-text>
#
# Optional tenant strictness override at runtime:
# SQM_MIDDLEWARE_VALIDATION_TENANT_REQUIREMENT_MODE=REQUIRED
#
# SQM_MIDDLEWARE_VALIDATION_MAX_JOIN_COUNT=8
# SQM_MIDDLEWARE_VALIDATION_MAX_SELECT_COLUMNS=64

# --- Runtime guardrails -------------------------------------------------------
# SQM_MIDDLEWARE_GUARDRAILS_MAX_SQL_LENGTH=10000
# SQM_MIDDLEWARE_GUARDRAILS_TIMEOUT_MILLIS=2500
# SQM_MIDDLEWARE_GUARDRAILS_MAX_ROWS=1000
# SQM_MIDDLEWARE_GUARDRAILS_EXPLAIN_DRY_RUN=false
